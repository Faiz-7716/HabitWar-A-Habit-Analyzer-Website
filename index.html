<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HabitWar - Gamified Habit Tracker</title>
    <meta name="description" content="Transform your habits into victories with HabitWar. A premium, gamified habit tracking app with 3D animations, analytics, and offline support.">
    <meta name="keywords" content="habit tracker, gamified productivity, goal setting, daily routine, offline habit app, pwa">
    <meta name="author" content="HabitWar Team">
    <meta name="theme-color" content="#c5ff00">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <link rel="canonical" href="https://habitwar.faizcodes.tech/" />
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://yourdomain.com/">
    <meta property="og:title" content="HabitWar - Gamified Habit Tracker">
    <meta property="og:description" content="Transform your habits into victories. Premium habit tracking with stunning animations and analytics.">
    <meta property="og:image" content="https://yourdomain.com/assets/screenshots/desktop.png">

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://yourdomain.com/">
    <meta property="twitter:title" content="HabitWar - Gamified Habit Tracker">
    <meta property="twitter:description" content="Transform your habits into victories. Premium habit tracking with stunning animations and analytics.">
    <meta property="twitter:image" content="https://yourdomain.com/assets/screenshots/desktop.png">
    
    <!-- PWA & Icons -->
    <link rel="manifest" href="manifest.json">
    <link rel="apple-touch-icon" href="favicon.jpg">
    <link rel="icon" type="image/jpeg" href="favicon.jpg">

    <!-- Service Worker Registration -->
    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('/sw.js')
                    .then(registration => {
                        console.log('ServiceWorker registration successful with scope: ', registration.scope);
                    })
                    .catch(err => {
                        console.log('ServiceWorker registration failed: ', err);
                    });
            });
        }
    </script>
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    
    <!-- Stylesheets -->
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="home-styles.css">
    
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2.2.0/dist/chartjs-plugin-datalabels.min.js"></script>
    
    <!-- GSAP for Animations -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    
    <!-- Particles.js -->
    <script src="https://cdn.jsdelivr.net/npm/particles.js@2.0.0/particles.min.js"></script>
    
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
</head>
<body>
    <!-- Particles Background -->
    <div id="particles-js"></div>
    
    <!-- Mobile Menu Overlay -->
    <div class="mobile-overlay" id="mobileOverlay"></div>
    
    <!-- Premium Animated Sidebar -->
    <aside class="sidebar" id="sidebar">
        <div class="sidebar-glow"></div>
        <div class="sidebar-particles"></div>
        
        <div class="sidebar-header">
            <div class="logo">
                <div class="logo-icon">
                    <i data-lucide="sword"></i>
                </div>
                <span class="logo-text">HabitWar</span>
            </div>
            <button class="close-sidebar" id="closeSidebar">
                <i data-lucide="x"></i>
            </button>
        </div>
        
        <nav class="sidebar-nav">
            <ul class="nav-list">
                <li class="nav-item active" data-page="daily">
                    <a href="#daily" class="nav-link">
                        <div class="nav-icon"><i data-lucide="layout-dashboard"></i></div>
                        <span class="nav-text">Daily</span>
                        <div class="nav-indicator"></div>
                    </a>
                </li>
                <li class="nav-item" data-page="analytics">
                    <a href="#analytics" class="nav-link">
                        <div class="nav-icon"><i data-lucide="bar-chart-3"></i></div>
                        <span class="nav-text">Analytics</span>
                        <div class="nav-indicator"></div>
                    </a>
                </li>
                <li class="nav-item" data-page="habits">
                    <a href="#habits" class="nav-link">
                        <div class="nav-icon"><i data-lucide="target"></i></div>
                        <span class="nav-text">Habits</span>
                        <div class="nav-indicator"></div>
                    </a>
                </li>
                <li class="nav-item" data-page="streaks">
                    <a href="#streaks" class="nav-link">
                        <div class="nav-icon"><i data-lucide="flame"></i></div>
                        <span class="nav-text">Streaks</span>
                        <div class="nav-indicator"></div>
                    </a>
                </li>
                <li class="nav-item" data-page="gratitude">
                    <a href="#gratitude" class="nav-link">
                        <div class="nav-icon"><i data-lucide="heart"></i></div>
                        <span class="nav-text">Gratitude</span>
                        <div class="nav-indicator"></div>
                    </a>
                </li>
            </ul>
        </nav>
        
        <div class="sidebar-footer">
            <div class="user-profile">
                <div class="avatar">
                    <i data-lucide="user"></i>
                    <div class="avatar-ring"></div>
                    <div class="avatar-pulse"></div>
                </div>
                <div class="user-info">
                    <span class="user-name">Warrior</span>
                    <span class="user-status">
                        <span class="status-dot"></span>
                        Ready for Battle
                    </span>
                </div>
            </div>
        </div>
    </aside>
    
    <!-- Main Content Area -->
    <main class="main-content">
        <!-- Header -->
        <header class="main-header">
            <button class="hamburger-menu" id="hamburgerMenu">
                <span class="hamburger-line"></span>
                <span class="hamburger-line"></span>
                <span class="hamburger-line"></span>
            </button>
            
            <div class="header-greeting">
                <h1 class="greeting-text">Good Morning, <span class="warrior-name">Warrior</span>!</h1>
                <p class="greeting-subtitle">Ready to conquer your habits today?</p>
            </div>
            
            <div class="header-actions">
                <button class="btn-icon" id="themeToggle" title="Toggle Theme">
                    <i data-lucide="sun"></i>
                </button>
                <div class="notification-wrapper">
                    <button class="btn-icon" id="notificationsBtn" title="Notifications">
                        <i data-lucide="bell"></i>
                        <span class="notification-badge" id="notificationBadge">0</span>
                    </button>
                    <div class="notification-dropdown" id="notificationDropdown">
                        <div class="notification-header">
                            <h3>Notifications</h3>
                            <button class="btn-ghost btn-sm" id="clearAllNotifications">Clear All</button>
                        </div>
                        <div class="notification-list" id="notificationList">
                            <!-- Notifications will be inserted here -->
                        </div>
                        <div class="notification-empty" id="notificationEmpty" style="display: none;">
                            <i data-lucide="bell-off"></i>
                            <p>No notifications</p>
                        </div>
                    </div>
                </div>
            </div>
        </header>
        
        <!-- Dynamic Content Container -->
        <div class="content-container" id="contentContainer">
            <!-- Loading State -->
            <div class="loading-state" id="loadingState">
                <div class="loader">
                    <div class="loader-ring"></div>
                    <div class="loader-ring"></div>
                    <div class="loader-ring"></div>
                </div>
                <p>Loading your battle dashboard...</p>
            </div>
            
            <!-- Content will be dynamically loaded here -->
            <div class="page-content" id="pageContent"></div>
            
            <!-- Error State -->
            <div class="error-state" id="errorState" style="display: none;">
                <div class="error-icon">
                    <i data-lucide="alert-triangle"></i>
                </div>
                <h2>Oops! Something went wrong</h2>
                <p>Failed to load the dashboard. Please try again.</p>
                <button class="btn btn-primary" onclick="location.reload()">Reload Page</button>
            </div>
        </div>
    </main>
    
    <!-- Add Habit Modal -->
    <div class="modal" id="addHabitModal">
        <div class="modal-backdrop"></div>
        <div class="modal-content">
            <div class="modal-header">
                <h2>Add New Habit</h2>
                <button class="modal-close" id="closeModal">
                    <i data-lucide="x"></i>
                </button>
            </div>
            <form class="modal-body" id="addHabitForm">
                <div class="form-group">
                    <label for="habitName">Habit Name</label>
                    <input type="text" id="habitName" placeholder="e.g., Morning Exercise" required>
                </div>
                <div class="form-group">
                    <label for="habitIcon">Icon</label>
                    <select id="habitIcon">
                        <option value="dumbbell">üí™ Dumbbell</option>
                        <option value="book-open">üìñ Book</option>
                        <option value="droplet">üíß Water</option>
                        <option value="moon">üåô Sleep</option>
                        <option value="brain">üß† Meditation</option>
                        <option value="utensils">üçΩÔ∏è Healthy Eating</option>
                        <option value="bike">üö¥ Cycling</option>
                        <option value="pencil">‚úèÔ∏è Writing</option>
                        <option value="code">üíª Coding</option>
                        <option value="music">üéµ Music</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="habitCategory">Category</label>
                    <select id="habitCategory">
                        <option value="health">üèÉ Health</option>
                        <option value="productivity">‚ö° Productivity</option>
                        <option value="social">üë• Social</option>
                        <option value="finance">üí∞ Finance</option>
                        <option value="spiritual">üßò Spiritual</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="habitGoal">Monthly Goal (days)</label>
                    <input type="number" id="habitGoal" min="1" max="31" value="20" required>
                </div>
                <div class="modal-actions">
                    <button type="button" class="btn btn-secondary" id="cancelAddHabit">Cancel</button>
                    <button type="submit" class="btn btn-primary">Add Habit</button>
                </div>
            </form>
        </div>
    </div>
    
    <!-- Edit Habit Modal -->
    <div class="modal" id="editHabitModal">
        <div class="modal-backdrop"></div>
        <div class="modal-content">
            <div class="modal-header">
                <h2>Edit Habit</h2>
                <button class="modal-close" id="closeEditModal">
                    <i data-lucide="x"></i>
                </button>
            </div>
            <form class="modal-body" id="editHabitForm">
                <input type="hidden" id="editHabitId">
                <div class="form-group">
                    <label for="editHabitName">Habit Name</label>
                    <input type="text" id="editHabitName" placeholder="e.g., Morning Exercise" required>
                </div>
                <div class="form-group">
                    <label for="editHabitIcon">Icon</label>
                    <select id="editHabitIcon">
                        <option value="dumbbell">üí™ Dumbbell</option>
                        <option value="book-open">üìñ Book</option>
                        <option value="droplet">üíß Water</option>
                        <option value="moon">üåô Sleep</option>
                        <option value="brain">üß† Meditation</option>
                        <option value="utensils">üçΩÔ∏è Healthy Eating</option>
                        <option value="bike">üö¥ Cycling</option>
                        <option value="pencil">‚úèÔ∏è Writing</option>
                        <option value="code">üíª Coding</option>
                        <option value="music">üéµ Music</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="editHabitCategory">Category</label>
                    <select id="editHabitCategory">
                        <option value="health">üèÉ Health</option>
                        <option value="productivity">‚ö° Productivity</option>
                        <option value="social">üë• Social</option>
                        <option value="finance">üí∞ Finance</option>
                        <option value="spiritual">üßò Spiritual</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="editHabitGoal">Monthly Goal (days)</label>
                    <input type="number" id="editHabitGoal" min="1" max="31" value="20" required>
                </div>
                <div class="modal-actions">
                    <button type="button" class="btn btn-danger" id="deleteHabitBtn">Delete</button>
                    <button type="button" class="btn btn-secondary" id="cancelEditHabit">Cancel</button>
                    <button type="submit" class="btn btn-primary">Save Changes</button>
                </div>
            </form>
        </div>
    </div>
    
    <!-- Import Data Modal -->
    <div class="modal" id="importDataModal">
        <div class="modal-backdrop"></div>
        <div class="modal-content">
            <div class="modal-header">
                <h2>Import Data</h2>
                <button class="modal-close" id="closeImportModal">
                    <i data-lucide="x"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label>Import Mode</label>
                    <div class="import-mode-options" style="display: flex; gap: var(--space-md); margin-top: var(--space-sm);">
                        <label class="import-mode-option" style="display: flex; align-items: center; gap: var(--space-sm); cursor: pointer; padding: var(--space-md); border: 2px solid var(--border-primary); border-radius: var(--radius-lg); flex: 1; transition: all 0.2s ease;">
                            <input type="radio" name="importMode" value="merge" checked style="accent-color: var(--accent-primary);">
                            <div>
                                <strong style="color: var(--text-primary);">Merge</strong>
                                <p style="font-size: var(--font-size-sm); color: var(--text-secondary); margin: 0;">Add imported data without removing existing habits</p>
                            </div>
                        </label>
                        <label class="import-mode-option" style="display: flex; align-items: center; gap: var(--space-sm); cursor: pointer; padding: var(--space-md); border: 2px solid var(--border-primary); border-radius: var(--radius-lg); flex: 1; transition: all 0.2s ease;">
                            <input type="radio" name="importMode" value="replace" style="accent-color: var(--accent-primary);">
                            <div>
                                <strong style="color: var(--text-primary);">Replace</strong>
                                <p style="font-size: var(--font-size-sm); color: var(--text-secondary); margin: 0;">Replace all existing data with imported data</p>
                            </div>
                        </label>
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="importFile">Select File</label>
                    <div class="file-upload-area" id="fileUploadArea" style="border: 2px dashed var(--border-primary); border-radius: var(--radius-lg); padding: var(--space-xl); text-align: center; cursor: pointer; transition: all 0.2s ease;">
                        <i data-lucide="upload-cloud" style="width: 48px; height: 48px; color: var(--text-tertiary); margin-bottom: var(--space-md);"></i>
                        <p style="color: var(--text-secondary); margin-bottom: var(--space-sm);">Drag & drop your JSON file here, or click to browse</p>
                        <p style="font-size: var(--font-size-sm); color: var(--text-tertiary);">Only .json files exported from HabitWar are supported</p>
                        <input type="file" id="importFile" accept=".json" style="display: none;">
                    </div>
                </div>
                
                <!-- File Preview -->
                <div id="importPreview" style="display: none; background: var(--bg-tertiary); border-radius: var(--radius-lg); padding: var(--space-md); margin-top: var(--space-md);">
                    <div style="display: flex; align-items: center; gap: var(--space-sm); margin-bottom: var(--space-md);">
                        <i data-lucide="file-check" style="color: var(--success);"></i>
                        <span id="importFileName" style="color: var(--text-primary); font-weight: 500;"></span>
                    </div>
                    <div id="importStats" style="display: grid; grid-template-columns: repeat(3, 1fr); gap: var(--space-sm);"></div>
                </div>
                
                <!-- Warning for Replace mode -->
                <div id="replaceWarning" style="display: none; background: rgba(239, 68, 68, 0.1); border: 1px solid var(--danger); border-radius: var(--radius-lg); padding: var(--space-md); margin-top: var(--space-md);">
                    <div style="display: flex; align-items: center; gap: var(--space-sm); color: var(--danger);">
                        <i data-lucide="alert-triangle"></i>
                        <strong>Warning</strong>
                    </div>
                    <p style="color: var(--text-secondary); margin: var(--space-sm) 0 0 0; font-size: var(--font-size-sm);">Replace mode will delete all your current habits, completions, and gratitude entries. This action cannot be undone.</p>
                </div>
                
                <div class="modal-actions" style="margin-top: var(--space-lg);">
                    <button type="button" class="btn btn-secondary" id="cancelImport">Cancel</button>
                    <button type="button" class="btn btn-primary" id="confirmImport" disabled>
                        <i data-lucide="download"></i>
                        Import Data
                    </button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Delete Confirmation Modal -->
    <div class="modal" id="deleteConfirmModal">
        <div class="modal-backdrop"></div>
        <div class="modal-content" style="max-width: 400px;">
            <div class="modal-header" style="background: linear-gradient(135deg, #dc2626 0%, #b91c1c 100%); border-radius: var(--radius-lg) var(--radius-lg) 0 0;">
                <h2 style="color: white; display: flex; align-items: center; gap: var(--space-sm);">
                    <i data-lucide="alert-triangle"></i>
                    Delete Habit
                </h2>
            </div>
            <div class="modal-body" style="text-align: center; padding: var(--space-xl);">
                <div style="width: 80px; height: 80px; background: rgba(220, 38, 38, 0.1); border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto var(--space-lg);">
                    <i data-lucide="trash-2" style="width: 40px; height: 40px; color: #dc2626;"></i>
                </div>
                <h3 style="color: var(--text-primary); margin-bottom: var(--space-sm);">Are you sure?</h3>
                <p style="color: var(--text-secondary); margin-bottom: var(--space-lg);">
                    You are about to delete <strong id="deleteHabitName" style="color: var(--text-primary);">this habit</strong>. 
                    This action cannot be undone.
                </p>
                <div class="modal-actions" style="justify-content: center; gap: var(--space-md);">
                    <button type="button" class="btn btn-secondary" id="cancelDelete">
                        <i data-lucide="x"></i>
                        Cancel
                    </button>
                    <button type="button" class="btn" id="confirmDelete" style="background: linear-gradient(135deg, #dc2626 0%, #b91c1c 100%); color: white;">
                        <i data-lucide="trash-2"></i>
                        Delete
                    </button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Toast Notification -->
    <div class="toast-container" id="toastContainer"></div>
    
    <!-- App Script -->
    <script src="data/quotes.js"></script>
    <script src="app.js"></script>
</body>
</html>
